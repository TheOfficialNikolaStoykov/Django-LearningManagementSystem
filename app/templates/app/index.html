{% extends './base.html' %}

{% load static %}

{% block content %}

<div class="bg-white">
  <div class="py-16"></div>
    <div class="mx-auto max-w-7xl px-6 lg:px-8">
      <div class="mx-auto max-w-2xl text-center">
        <p class="text-3xl font-bold tracking-tight text-gray-900 sm:text-4xl">Courses</p>
      </div>
    </div>
</div>

<div class="mx-auto px-4 sm:px-6 lg:max-w-7xl lg:px-8">
  <div class="md:flex md:items-center md:justify-between mb-6">
    {% if not courses_message %}
      <a href="{% url 'courses' %}" class="text-sm font-medium text-indigo-600 hover:text-indigo-500">View all courses
        <span aria-hidden="true"> â†’</span>
      </a>
    {% endif %}
  </div>

  {% if courses_message %}
  <div class="flex items-center mb-4 justify-center">
    <span>{{ courses_message }}</span>
  </div>
  {% endif %}

  <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1rem;">
    {% for course in courses|slice:":4" %}
    <div class="group relative bg-white p-4 shadow-lg rounded-lg hover:shadow-2xl transition m-4">
      <div class="aspect-w-4 aspect-h-3 overflow-hidden rounded-lg bg-gray-100">
        <img src="https://tailwindui.com/img/ecommerce-images/product-page-05-related-product-02.jpg" alt="{{ course.name }}" class="object-cover object-center w-full h-full">
      </div>
      <div class="mt-4">
        <h3 class="text-base font-medium text-gray-900">
          <a href="{% url 'course_detail' course.id %}" class="hover:text-indigo-600">
            {{ course.name }}
          </a>
        </h3>
      </div>
    </div>
    {% endfor %}
  </div>
</div>

<div class="py-16">
  <div class="mx-auto max-w-7xl px-6 lg:px-8">
    <div class="mx-auto max-w-2xl text-center">
      <p class="text-3xl font-bold tracking-tight text-gray-900 sm:text-4xl">News</p>
    </div>
  </div>
</div>

<div class="px-6 pt-8 pb-8 lg:px-8 lg:pt-8 lg:pb-8">
  {% if news_message %}
  <div class="flex items-center mb-4 justify-center">
    <span>{{ news_message }}</span>
  </div>
  {% endif %}

  {% for item in news %}
  <div class="relative mx-auto divide-y-2 divide-gray-200 lg:max-w-7xl">
    <div class="mt-6 grid gap-16 lg:grid-cols-1 lg:gap-x-5 lg:gap-y-20">
      <div>
        <p class="text-sm text-gray-500">
          <time datetime="{{ item.date_created }}">{{ item.date_created }}</time>
        </p>
        <div class="mt-5 block">
          <p class="text-xl font-semibold text-gray-900">{{ item.title }}</p>
          <p class="mt-5 text-base text-gray-500">{{ item.content|truncatewords:20 }}</p>
        </div>
        <div class="mt-3">
          <a href="{% url 'news_detail' item.id %}" class="text-base font-semibold text-indigo-600 hover:text-indigo-500">Read full post</a>
        </div>
      </div>
    </div>
  </div>

  {% endfor %}
</div>

{% endblock %}
